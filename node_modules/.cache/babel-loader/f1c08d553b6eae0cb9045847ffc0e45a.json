{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamagarwalla/TAMU/Fall22/csce606/react-login-register-page/src/components/pages/LandingPage.js\";\nimport React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport { GoogleLogin } from 'react-google-login';\nimport '../../App.css';\nimport BackgroundImage from '../../assets/images/bg.png'; //export default function LandingPage() {\n\nclass LandingPage extends React.Component {\n  constructor(props) {\n    // const [user, setUser] = useState({});\n    super(props);\n\n    this.handleCallbackResponse = response => {\n      const _this$state = this.state,\n            user = _this$state.user,\n            setUser = _this$state.setUser;\n      console.log(\"Encoded JWT ID token: \" + response.credential);\n      var userObject = jwt_decode(response.credential);\n      console.log(userObject); // this.setUser(userObject);\n\n      this.setState({\n        setUser: userObject\n      });\n      window.location.replace(\"localhost:3000/home\");\n      document.getElementById(\"signInDiv\").hidden = false;\n    };\n\n    this.handleSignOut = event => {\n      const _this$state2 = this.state,\n            user = _this$state2.user,\n            setUser = _this$state2.setUser; // this.setUser({});\n\n      this.setState({\n        setUser: {}\n      });\n      document.getElementById(\"signInDiv\").hidden = false;\n      google.accounts.id.prompt();\n    };\n\n    this.state = {\n      user: {},\n      setUser: {}\n    };\n  } // componentDidMount(){\n  //     // useEffect = (() => {\n  //         /* global google */\n  //         google.accounts.id.initialize({\n  //           client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n  //           callback: this.handleCallbackResponse()\n  //         })\n  //         google.accounts.id.renderButton(\n  //           document.getElementById(\"signInDiv\"),\n  //           { theme:\"outline\", size: \"large\" }\n  //         )\n  //         google.accounts.id.prompt()\n  //     //   }, []);\n  // }\n\n\n  //   useEffect = (() => {\n  //     /* global google */\n  //     google.accounts.id.initialize({\n  //       client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n  //       callback: this.handleCallbackResponse()\n  //     })\n  //     google.accounts.id.renderButton(\n  //       document.getElementById(\"signInDiv\"),\n  //       { theme:\"outline\", size: \"large\" }\n  //     )\n  //     google.accounts.id.prompt()\n  //   }, []);\n  // googleSignIn = () =>{\n  //     /* global google */\n  //     google.accounts.id.initialize({\n  //         client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n  //         callback: this.handleCallbackResponse()\n  //       })\n  //       google.accounts.id.renderButton(\n  //         document.getElementById(\"signInDiv\"),\n  //         { theme:\"outline\", size: \"large\" }\n  //       )\n  //       google.accounts.id.prompt()\n  // }\n  render() {\n    const _this$state3 = this.state,\n          user = _this$state3.user,\n          setUser = _this$state3.setUser;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(GoogleLogin, {\n      clientId: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n      buttonText: \"Login\",\n      onSuccess: this.handleCallbackResponse(),\n      onFailure: this.handleCallbackResponse(),\n      cookiePolicy: 'single_host_origin',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"header\", {\n      style: HeaderStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"main-title text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"login / register page\"), React.createElement(\"p\", {\n      className: \"main-para text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"join us now and don't waste time\"), React.createElement(\"div\", {\n      className: \"buttons text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"primary-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"log in\")), React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"primary-button\",\n      id: \"reg_btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"register \"))))));\n  }\n\n}\n\nexport default withRouter(LandingPage);\nconst HeaderStyle = {\n  width: \"100%\",\n  height: \"100vh\",\n  background: \"url(\".concat(BackgroundImage, \")\"),\n  backgroundPosition: \"center\",\n  backgroundRepeat: \"no-repeat\",\n  backgroundSize: \"cover\"\n};","map":{"version":3,"sources":["/Users/shubhamagarwalla/TAMU/Fall22/csce606/react-login-register-page/src/components/pages/LandingPage.js"],"names":["React","Link","withRouter","useEffect","useState","jwt_decode","GoogleLogin","BackgroundImage","LandingPage","Component","constructor","props","handleCallbackResponse","response","state","user","setUser","console","log","credential","userObject","setState","window","location","replace","document","getElementById","hidden","handleSignOut","event","google","accounts","id","prompt","render","HeaderStyle","width","height","background","backgroundPosition","backgroundRepeat","backgroundSize"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { useEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport { GoogleLogin } from 'react-google-login';\nimport '../../App.css'\nimport BackgroundImage from '../../assets/images/bg.png'\n\n//export default function LandingPage() {\nclass LandingPage extends React.Component {\n    \n    constructor(props){\n        // const [user, setUser] = useState({});\n        super(props);\n            this.state={\n                user:{}, \n                setUser:{}\n            }\n        \n    }\n\n    // componentDidMount(){\n    //     // useEffect = (() => {\n    //         /* global google */\n    //         google.accounts.id.initialize({\n    //           client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n    //           callback: this.handleCallbackResponse()\n    //         })\n        \n    //         google.accounts.id.renderButton(\n    //           document.getElementById(\"signInDiv\"),\n    //           { theme:\"outline\", size: \"large\" }\n    //         )\n        \n    //         google.accounts.id.prompt()\n    //     //   }, []);\n    // }\n\n  \n   handleCallbackResponse = (response) => {\n    const { user, setUser} = this.state;\n    console.log(\"Encoded JWT ID token: \" + response.credential);\n    var userObject = jwt_decode(response.credential);\n    console.log(userObject);\n    // this.setUser(userObject);\n    this.setState({setUser:userObject});\n    window.location.replace(\"localhost:3000/home\");\n    document.getElementById(\"signInDiv\").hidden = false;\n  }\n\n  // prompt again\n  handleSignOut = (event) => {\n    const { user, setUser} = this.state;\n    // this.setUser({});\n    this.setState({setUser:{}});\n    document.getElementById(\"signInDiv\").hidden = false;\n    google.accounts.id.prompt()\n  }\n\n//   useEffect = (() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n//       callback: this.handleCallbackResponse()\n//     })\n\n//     google.accounts.id.renderButton(\n//       document.getElementById(\"signInDiv\"),\n//       { theme:\"outline\", size: \"large\" }\n//     )\n\n//     google.accounts.id.prompt()\n//   }, []);\n\n// googleSignIn = () =>{\n//     /* global google */\n//     google.accounts.id.initialize({\n//         client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n//         callback: this.handleCallbackResponse()\n//       })\n  \n//       google.accounts.id.renderButton(\n//         document.getElementById(\"signInDiv\"),\n//         { theme:\"outline\", size: \"large\" }\n//       )\n  \n//       google.accounts.id.prompt()\n// }\n  \n  render() {\n    const { user, setUser} = this.state;\n    return (\n            <div className=\"App\">\n                {/* {()=>this.googleSignIn()} */}\n                    {/* <div id=\"signInDiv\"></div>\n                    {\n                        Object.keys(user).length != 0 &&\n                        <button onClick= { (e) => this.handleSignOut(e)}>Sign Out</button>\n                    }\n                    { user && \n                        <div>\n                            <img src={user.picture}></img>\n                            <h3>{user.name}</h3>\n                        </div>\n                    } */}\n            <GoogleLogin\n    clientId=\"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\"\n    buttonText=\"Login\"\n    onSuccess={this.handleCallbackResponse()}\n    onFailure={this.handleCallbackResponse()}\n    cookiePolicy={'single_host_origin'}\n  />\n            \n            { <header style={ HeaderStyle }>\n                <h1 className=\"main-title text-center\">login / register page</h1>\n                <p className=\"main-para text-center\">join us now and don't waste time</p>\n                <div className=\"buttons text-center\">\n                    <Link to=\"/login\">\n                        <button className=\"primary-button\">log in</button>\n                    </Link>\n                    <Link to=\"/register\">\n                        <button className=\"primary-button\" id=\"reg_btn\"><span>register </span></button>\n                    </Link>\n                </div>\n            </header>\n            }   \n        </div>\n\n    );\n  }\n}\n\nexport default withRouter(LandingPage);\n\nconst HeaderStyle = {\n    width: \"100%\",\n    height: \"100vh\",\n    background: `url(${BackgroundImage})`,\n    backgroundPosition: \"center\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"cover\"\n}"]},"metadata":{},"sourceType":"module"}