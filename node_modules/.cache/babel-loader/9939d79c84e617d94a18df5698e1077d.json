{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamagarwalla/TAMU/Fall22/csce606/react-login-register-page/src/components/pages/LandingPage.js\";\nimport React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport { GoogleLogin } from 'react-google-login';\nimport '../../App.css';\nimport BackgroundImage from '../../assets/images/bg.png'; //export default function LandingPage() {\n\nclass LandingPage extends React.Component {\n  constructor(props) {\n    // const [user, setUser] = useState({});\n    super(props);\n\n    this.handleCallbackResponse = response => {\n      console.log(\"Success\", response);\n      this.setState({\n        showButton: false\n      }); // const { user, setUser} = this.state;\n      // console.log(\"Encoded JWT ID token: \" + response.credential);\n      // var userObject = jwt_decode(response.credential);\n      // console.log(userObject);\n      // // this.setUser(userObject);\n      // this.setState({setUser:userObject});\n      // window.location.replace(\"localhost:3000/home\");\n      // document.getElementById(\"signInDiv\").hidden = false;\n    };\n\n    this.handleFailure = response => {\n      console.log(\"Failed\", response);\n    };\n\n    this.state = {\n      user: {},\n      setUser: {},\n      showButton: true\n    };\n  } // componentDidMount(){\n  //     // useEffect = (() => {\n  //         /* global google */\n  //         google.accounts.id.initialize({\n  //           client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n  //           callback: this.handleCallbackResponse()\n  //         })\n  //         google.accounts.id.renderButton(\n  //           document.getElementById(\"signInDiv\"),\n  //           { theme:\"outline\", size: \"large\" }\n  //         )\n  //         google.accounts.id.prompt()\n  //     //   }, []);\n  // }\n\n\n  // prompt again\n  //   handleSignOut = (event) => {\n  //     const { user, setUser} = this.state;\n  //     // this.setUser({});\n  //     this.setState({setUser:{}});\n  //     document.getElementById(\"signInDiv\").hidden = false;\n  //     google.accounts.id.prompt()\n  //   }\n  //   useEffect = (() => {\n  //     /* global google */\n  //     google.accounts.id.initialize({\n  //       client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n  //       callback: this.handleCallbackResponse()\n  //     })\n  //     google.accounts.id.renderButton(\n  //       document.getElementById(\"signInDiv\"),\n  //       { theme:\"outline\", size: \"large\" }\n  //     )\n  //     google.accounts.id.prompt()\n  //   }, []);\n  // googleSignIn = () =>{\n  //     /* global google */\n  //     google.accounts.id.initialize({\n  //         client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n  //         callback: this.handleCallbackResponse()\n  //       })\n  //       google.accounts.id.renderButton(\n  //         document.getElementById(\"signInDiv\"),\n  //         { theme:\"outline\", size: \"large\" }\n  //       )\n  //       google.accounts.id.prompt()\n  // }\n  render() {\n    const _this$state = this.state,\n          user = _this$state.user,\n          setUser = _this$state.setUser,\n          showButton = _this$state.showButton;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, showButton ? React.createElement(GoogleLogin, {\n      clientId: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n      buttonText: \"Login\",\n      onSuccess: this.handleCallbackResponse(),\n      onFailure: this.handleFailure(),\n      cookiePolicy: 'single_host_origin',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }) : null, React.createElement(\"header\", {\n      style: HeaderStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"main-title text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"login / register page\"), React.createElement(\"p\", {\n      className: \"main-para text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"join us now and don't waste time\"), React.createElement(\"div\", {\n      className: \"buttons text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"primary-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"log in\")), React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"primary-button\",\n      id: \"reg_btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"register \"))))));\n  }\n\n}\n\nexport default withRouter(LandingPage);\nconst HeaderStyle = {\n  width: \"100%\",\n  height: \"100vh\",\n  background: \"url(\".concat(BackgroundImage, \")\"),\n  backgroundPosition: \"center\",\n  backgroundRepeat: \"no-repeat\",\n  backgroundSize: \"cover\"\n};","map":{"version":3,"sources":["/Users/shubhamagarwalla/TAMU/Fall22/csce606/react-login-register-page/src/components/pages/LandingPage.js"],"names":["React","Link","withRouter","useEffect","useState","jwt_decode","GoogleLogin","BackgroundImage","LandingPage","Component","constructor","props","handleCallbackResponse","response","console","log","setState","showButton","handleFailure","state","user","setUser","render","HeaderStyle","width","height","background","backgroundPosition","backgroundRepeat","backgroundSize"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { useEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport { GoogleLogin } from 'react-google-login';\nimport '../../App.css'\nimport BackgroundImage from '../../assets/images/bg.png'\n\n//export default function LandingPage() {\nclass LandingPage extends React.Component {\n    \n    constructor(props){\n        // const [user, setUser] = useState({});\n        super(props);\n            this.state={\n                user:{}, \n                setUser:{},\n                showButton: true\n            }\n        \n    }\n\n    // componentDidMount(){\n    //     // useEffect = (() => {\n    //         /* global google */\n    //         google.accounts.id.initialize({\n    //           client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n    //           callback: this.handleCallbackResponse()\n    //         })\n        \n    //         google.accounts.id.renderButton(\n    //           document.getElementById(\"signInDiv\"),\n    //           { theme:\"outline\", size: \"large\" }\n    //         )\n        \n    //         google.accounts.id.prompt()\n    //     //   }, []);\n    // }\n\n  \n   handleCallbackResponse = (response) => {\n    console.log(\"Success\",response);\n    this.setState({showButton:false})\n    // const { user, setUser} = this.state;\n    // console.log(\"Encoded JWT ID token: \" + response.credential);\n    // var userObject = jwt_decode(response.credential);\n    // console.log(userObject);\n    // // this.setUser(userObject);\n    // this.setState({setUser:userObject});\n    // window.location.replace(\"localhost:3000/home\");\n    // document.getElementById(\"signInDiv\").hidden = false;\n  }\n\n  handleFailure = (response) =>{\n    console.log(\"Failed\", response);\n  }\n\n  // prompt again\n//   handleSignOut = (event) => {\n//     const { user, setUser} = this.state;\n//     // this.setUser({});\n//     this.setState({setUser:{}});\n//     document.getElementById(\"signInDiv\").hidden = false;\n//     google.accounts.id.prompt()\n//   }\n\n//   useEffect = (() => {\n//     /* global google */\n//     google.accounts.id.initialize({\n//       client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n//       callback: this.handleCallbackResponse()\n//     })\n\n//     google.accounts.id.renderButton(\n//       document.getElementById(\"signInDiv\"),\n//       { theme:\"outline\", size: \"large\" }\n//     )\n\n//     google.accounts.id.prompt()\n//   }, []);\n\n// googleSignIn = () =>{\n//     /* global google */\n//     google.accounts.id.initialize({\n//         client_id: \"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\",\n//         callback: this.handleCallbackResponse()\n//       })\n  \n//       google.accounts.id.renderButton(\n//         document.getElementById(\"signInDiv\"),\n//         { theme:\"outline\", size: \"large\" }\n//       )\n  \n//       google.accounts.id.prompt()\n// }\n  \n  render() {\n    const { user, setUser, showButton} = this.state;\n    return (\n            <div className=\"App\">\n                {/* {()=>this.googleSignIn()} */}\n                    {/* <div id=\"signInDiv\"></div>\n                    {\n                        Object.keys(user).length != 0 &&\n                        <button onClick= { (e) => this.handleSignOut(e)}>Sign Out</button>\n                    }\n                    { user && \n                        <div>\n                            <img src={user.picture}></img>\n                            <h3>{user.name}</h3>\n                        </div>\n                    } */}\n           {showButton ? (<GoogleLogin\n    clientId=\"787802789658-som6i2h91g2t708bhkg5m3aen4tb1rpa.apps.googleusercontent.com\"\n    buttonText=\"Login\"\n    onSuccess={this.handleCallbackResponse()}\n    onFailure={this.handleFailure()}\n    cookiePolicy={'single_host_origin'}\n  />):null}\n            \n            { <header style={ HeaderStyle }>\n                <h1 className=\"main-title text-center\">login / register page</h1>\n                <p className=\"main-para text-center\">join us now and don't waste time</p>\n                <div className=\"buttons text-center\">\n                    <Link to=\"/login\">\n                        <button className=\"primary-button\">log in</button>\n                    </Link>\n                    <Link to=\"/register\">\n                        <button className=\"primary-button\" id=\"reg_btn\"><span>register </span></button>\n                    </Link>\n                </div>\n            </header>\n            }   \n        </div>\n\n    );\n  }\n}\n\nexport default withRouter(LandingPage);\n\nconst HeaderStyle = {\n    width: \"100%\",\n    height: \"100vh\",\n    background: `url(${BackgroundImage})`,\n    backgroundPosition: \"center\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"cover\"\n}"]},"metadata":{},"sourceType":"module"}